---
import { CV } from '../data/cv';
import { Mail, Phone, MapPin, Linkedin, Briefcase, GraduationCap, Code, Heart, Star } from 'lucide-react';

const { name, role, about, location, contact, skills, experience, education, volunteering } = CV;
---

<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <title>CV - {name}</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800;900&display=swap" rel="stylesheet">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="stylesheet" href="/print.css">
</head>
<body class="bg-white font-['Inter',sans-serif] text-black leading-tight">

    <div class="fixed top-4 right-4 print:hidden">
        <button onclick="window.print()" class="bg-black text-white px-6 py-2 rounded font-bold shadow-xl hover:bg-blue-700 transition-all">
            Exporter en PDF
        </button>
    </div>

    <div class="resume-container mx-auto">
        <header class="flex justify-between items-start border-b-[6px] border-black pb-4 mb-8">
            <div class="max-w-[70%]">
                <h1 class="text-5xl font-[900] uppercase tracking-tighter leading-none mb-2">{name}</h1>
                <p class="text-2xl font-bold text-blue-700 uppercase tracking-tight">{role}</p>
                <p class="text-[13px] leading-relaxed text-black mt-4 pr-10 font-medium">
                    {about}
                </p>
            </div>
            <div class="text-right text-[12px] space-y-2 font-bold text-black uppercase">
                <div class="flex items-center justify-end gap-2 tracking-tight">{location} <MapPin size={14} strokeWidth={3} /></div>
                <div class="flex items-center justify-end gap-2 tracking-tight">{contact.phone} <Phone size={14} strokeWidth={3} /></div>
                <div class="flex items-center justify-end gap-2 tracking-tight">{contact.email} <Mail size={14} strokeWidth={3} /></div>
                <a href={`https://${contact.linkedin}`} class="flex items-center justify-end gap-2 text-blue-700 no-underline hover:underline tracking-tight">
                    {contact.linkedin.replace('linkedin.com/in/', '')} <Linkedin size={14} strokeWidth={3} />
                </a>
            </div>
        </header>

        <div class="grid grid-cols-12 gap-12">
            <aside class="col-span-4 space-y-10">
                
                <section>
                    <h2 class="aside-title"><Code size={16} /> Skills</h2>
                    <div class="flex flex-wrap gap-2">
                        {skills.map(skill => (
                            <span class="px-2 py-1 bg-black text-white text-[11px] font-black rounded-sm uppercase tracking-widest">
                                {skill}
                            </span>
                        ))}
                    </div>
                </section>

                <section>
                    <h2 class="aside-title"><GraduationCap size={16} /> Education</h2>
                    <div class="space-y-6">
                        {education.map(edu => (
                            <div>
                                <div class="text-[11px] font-[900] text-blue-700 uppercase mb-1">{edu.year}</div>
                                <div class="text-[14px] font-[800] leading-tight mb-1">{edu.degree}</div>
                                <div class="text-[12px] text-gray-700 font-bold">{edu.school}</div>
                            </div>
                        ))}
                    </div>
                </section>

                <section>
                    <h2 class="aside-title"><Heart size={16} /> Volunteering</h2>
                    <div class="border-l-4 border-black pl-4 py-1">
                        <div class="text-[12px] font-black uppercase mb-1">{volunteering.organization}</div>
                        <div class="text-[11px] font-bold text-blue-700 uppercase mb-2">{volunteering.period}</div>
                        <p class="text-[12px] text-black leading-snug font-medium italic">"{volunteering.desc}"</p>
                    </div>
                </section>

                <section>
                    <h2 class="aside-title"><Star size={16} /> Interests</h2>
                    <ul class="space-y-2 text-[13px] font-bold uppercase tracking-tight text-black">
                        <li class="flex items-center gap-2"><span class="w-1.5 h-1.5 bg-blue-700 rounded-full"></span> Cuisine</li>
                        <li class="flex items-center gap-2"><span class="w-1.5 h-1.5 bg-blue-700 rounded-full"></span> IA générative</li>
                        <li class="flex items-center gap-2"><span class="w-1.5 h-1.5 bg-blue-700 rounded-full"></span> Veille technologique</li>
                    </ul>
                </section>
            </aside>

            <main class="col-span-8">
                <section>
                    <h2 class="main-title"><Briefcase size={18} /> Professional Experience</h2>
                    <div class="space-y-10">
                        {experience.map(exp => (
                            <div class="exp-item">
                                <div class="flex justify-between items-center mb-1">
                                    <h3 class="text-[18px] font-[900] uppercase tracking-tight">{exp.role}</h3>
                                    <span class="text-[11px] font-black border-2 border-black px-2 py-1 uppercase">{exp.period}</span>
                                </div>
                                <div class="text-[14px] font-black text-blue-700 mb-4 uppercase tracking-widest">{exp.company}</div>
                                
                                <ul class="space-y-3">
                                    {exp.details.map(detail => (
                                        <li class="text-[13px] text-black flex gap-3 leading-snug font-medium">
                                            <span class="text-blue-700 font-black text-xl leading-none">•</span>
                                            <span>{detail}</span>
                                        </li>
                                    ))}
                                </ul>

                                {exp.stack && (
                                    <div class="mt-4 flex flex-wrap gap-x-4 gap-y-1 opacity-60">
                                        {exp.stack.map(tech => (
                                            <span class="text-[11px] font-bold font-mono text-black">#{tech}</span>
                                        ))}
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>
                </section>
            </main>
        </div>
    </div>
</body>
</html>